# Project 8 - Pentesting Live Targets

Time spent: **X** hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

Vulnerability #1: ___SQL Injection (SQLi)___

![sqli](https://user-images.githubusercontent.com/37861847/40294409-4a67ae88-5c8a-11e8-994e-d70e194d02fe.gif)

Vulnerability #2: ___Session Hijacking___

![sessionfixation](https://user-images.githubusercontent.com/37861847/40295203-5615043a-5c8d-11e8-9dee-7b6f54ae493b.gif)

## Green

Vulnerability #1: ___Cross-Site Scripting (XSS)___

![xss](https://user-images.githubusercontent.com/37861847/40295496-586317b2-5c8e-11e8-8375-4dfa6603398a.gif)

Vulnerability #2: ___User Enumeration___

![userenumeration](https://user-images.githubusercontent.com/37861847/40349408-614931e0-5d5b-11e8-8ef1-13c0cc9f8eb7.gif)

## Red

Vulnerability #1: ___Insecure Direct Object Reference (IDOR)___

![idor](https://user-images.githubusercontent.com/37861847/40295640-efe38978-5c8e-11e8-8c7b-c9a68fe7f1a2.gif)

Vulnerability #2: ___Cross-Site Request Forgery (CSRF)___


## Notes

Describe any challenges encountered while doing the work



## Concept Review
#### Which attacks were easiest to execute? Which were the most difficult?
*The easiest attacks to execute were IDOR, SQLi, Cross-Site Scripting, User Enumeration and Session Hijacking/Fixation. Cross-Site Request Forgery was the most difficult to execute. With CRSF, resubmitting the modified form was my biggest challenge. Specifically, getting the form to automatically submit without user interaction was my biggest challenge.*
  
#### What is a good rule of thumb which would prevent accidentally username enumeration vulnerabilities like the one created here?
*A good rule of thumb is to have the server respond to user input with a generic error message that will not indicate which field is incorrect. For instance, a username that is invalid or valid should be prompted with the same identical error message. By doing so, the attacker will not be to identify which usernames actually exist.*

#### Since you should be somewhat familiar with the CMS and how it was coded, can you think of another resource which could be made vulnerable to an Insecure Direct Object Reference? What code could be removed which would expose it? (Hint: It was also the answer to the first bonus objective to the Weekly Assignment for week 3.)
  

#### Many SQL Injections use OR as part of the injected code. (For example: ' OR 1=1 --'.) Could AND work just as well in place of OR? (For example: ' AND 1=1 --'.) Why or why not?
*No, AND is completely different and will not serve as a replacement to OR. The reason for this is because if AND is used, both the first user input and 1=1 need to be true for the injected code to work. On the other hand, OR is most effective because if the first input does not match any query results, 1=1 will always be true and all you need is one of those inputs to be true when using OR unlike AND where both user inputs need to be true.*

#### A stored XSS attack requires patience because it could be stored for months before being triggered. Because of this, what important ingredient would an attacker most likely include in a stored XSS attack script?

#### Imagine that one of your classmates is an authorized admin for the site's CMS and you are not. How would you get them to visit the self-submitting, hidden form page you created in Objective #5 (CSRF)?

#### Compare session hijacking and session fixation. Which attack do you think is easier for an attacker to execute? Why? One of them is much easier to defend against than the other. Which one and why?
*Session hijacking and session fixation are both similar in the aspect that both attacks aim to gain access to a system as a privileged user or in an authenticated state. However, they do differ in that session hijacking is when the attacker tries to steal the session ID of the already authenticated user and use it to gain unauthorized access into the system. Session fixation is when the attacker supplies their own session ID and sends it to the user so when the user logs in, the attacker will also get authenticated since the session ID was provided by the attacker. The easier attack to execute for an attacker would probably be session fixation because to execute such an attack requires manipulating the user to use the attacker's session ID through a malicious URL, a hidden form, or in a cookie rather than trying to steal a session ID that may be secured against session hijacking. Session hijacking is easier to defend against because they are more available mitigation options like setting cookies to HTTPOnly cookies, destroying sessions after user logs outs and regenerating session IDs at key points to prevent session hijacking.*
